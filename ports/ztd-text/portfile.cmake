vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_CMAKE_PATH
  REPO soasis/cmake
  REF b365519855861f2772ba68acd770cd39bc6439d7
  SHA512 e2b563fd14ecee0c7f5076a4ab42b72e92a9d66b1cb8d165309de4434e9be1a292b3da1386040a643c04026e8b6f03432e33970d32dac4fd1caa78453d1d4d3c
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_IDK_PATH
  REPO soasis/idk
  REF 5413729fefcba89faf410e76cfa9cff54d488079
  SHA512 02632a7c91d691251791dbcf1828c54ff4b7510c1f00c4985a1f7f0fe10a949bef6ea57907d4508e1e79f45d05ca0985f49ca0841448c9724a0a5a1038bdd4bb
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_PLATFORM_PATH
  REPO soasis/platform
  REF d92b8e5b85a4cabae62ad19ccfcc5c3f94ab1a14
  SHA512 d7482bbfa00c6c8226e368fde664ee77e915b4d01ea93e79dffb43b51b44808628c1d3d3daa5e6c8e5cd239dcd4c1ae31c3d0f534df9e1e9bf7a134b24322cfa
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_ENCODING_TABLES_PATH
  REPO soasis/encoding_tables
  REF 2f4324b3d84db2300d0bf3d0e568a28992df2b55
  SHA512 ec8684bca5673609c0b3014228b6b35647896f8288d6ef85778a7bb8a191c4c92985a11d625e7e5e306b738c16dce232f2604e7cf583ca5e9b76ff4a9f447732
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_CUNEICODE_PATH
  REPO soasis/cuneicode
  REF c4bfc7fba686ddb7e1d69f10943775b99865983b
  SHA512 dcf34a7139be938e3fd3155dd7bc2dc101afdfd364aea00ec4e23cd4d6a4562b6936a3f8b3584c12bbc6bcaa436498e2c4ca5d3aa95f39161639ecd47a11f116
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH ZTD_STATIC_CONTAINERS_PATH
  REPO soasis/static_containers
  REF e1a21217b6dba3028e6cc6bf0f9562972ea1c43d
  SHA512 ec5b98e2282e72eb09617006afaf2522a471b6eb3928c90fb878c46b7453bb94ddafb19cb4738c5561905003d299bb23d15ebf71c555259b5e500594fbadd97f
  HEAD_REF main
)

vcpkg_from_github(
  OUT_SOURCE_PATH SOURCE_PATH
  REPO soasis/text
  REF 3ead0683985b48be123040592f85c13a4aec5044
  SHA512 a72415f3c724a7e378634a85a5d4d2ec2d7c434312616acb9a319a160be705e51bf527a124e10d9a4bdf6c9a0ba7bfacae2af0710cd67be6b876cdcdcd1e3514
  HEAD_REF main
)

vcpkg_cmake_configure(
  SOURCE_PATH ${SOURCE_PATH}
  OPTIONS
  -DFETCHCONTENT_FULLY_DISCONNECTED=ON
  -DFETCHCONTENT_SOURCE_DIR_ZTD.CMAKE=${ZTD_CMAKE_PATH}
  -DFETCHCONTENT_SOURCE_DIR_ZTD.IDK=${ZTD_IDK_PATH}
  -DFETCHCONTENT_SOURCE_DIR_ZTD.PLATFORM=${ZTD_PLATFORM_PATH}
  -DFETCHCONTENT_SOURCE_DIR_ZTD.CUNEICODE=${ZTD_CUNEICODE_PATH}
  -DFETCHCONTENT_SOURCE_DIR_ZTD.ENCODING_TABLES=${ZTD_ENCODING_TABLES_PATH}
  -DFETCHCONTENT_SOURCE_DIR_ZTD.STATIC_CONTAINERS=${ZTD_STATIC_CONTAINERS_PATH}
  -DCMAKE_CXX_FLAGS=-DZTD_STD_CONCEPTS=0
)
vcpkg_cmake_install()

file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug" "${CURRENT_PACKAGES_DIR}/bin" "${CURRENT_PACKAGES_DIR}/lib")

file(INSTALL "${CMAKE_CURRENT_LIST_DIR}/usage" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}")
file(INSTALL "${SOURCE_PATH}/LICENSE" DESTINATION "${CURRENT_PACKAGES_DIR}/share/${PORT}" RENAME copyright)
